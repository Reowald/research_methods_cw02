An east London school has warned parents it may switch to online learning for its pupils because of threats to the school and abuse of staff since its decision to ban political symbols, including the Palestinian flag.

Barclay primary school in Leyton, Waltham Forest, said it had sought help from the Metropolitan police to investigate harassment of staff, and also hired private security, installed CCTV cameras and restricted public access to the school.

The Lion academy trust, which operates the school of more than 1,200 pupils, said it had received “a serious threat” during the Christmas period, as well as racial slurs and threats of arson, forcing it to take extra security measures, including a police presence.

“If this situation does not revert to a normal mode of operation or should the trust believe that despite these measures, the safety of children or staff cannot be assured, then we will – with limited notice – close the school and revert to online learning for as long as we believe it is necessary,” the trust said in a letter to parents published on Friday.

“This is the option of last resort – but please be aware that should staff continue to be threatened, then we will have no option but to close the school.

“Additionally, if any parent or individual is proven to be involved in instigating this campaign against the school, via their actions online or in person, we will act to ban those individuals from attending the site.”

Last term the school told parents that children were not to bring clothing or badges displaying “political allegiance”, including on non-uniform days. One parent said her child was told to remove a replica Morocco football shirt, while others said they had received letters from the school warning they could be referred to the government’s Prevent counter-terrorism programme.

A protest was held outside the school on the last scheduled day of term before Christmas, with the school opting to close a day early.

The protest centred on a pupil who has been off school since late November after refusing to remove a small Palestinian flag patch from his jacket. The pupil’s mother is said to be from Gaza, and his father told the BBC that members of her family had died during the conflict with Israel.

The school’s executive headteacher told parents in a letter that issues involving pupils were confidential, but that it was “disheartening to see how readily unproven allegations” were being accepted as fact.

“No child has been suspended or excluded by the school through issues arising with the uniform policy, and to suggest otherwise is untrue,” the letter said.

The letter added: “Staff have been subject to a severe degree of misconduct and harassment which now forms the basis of a series of criminal investigations that are now taking place.”

Before the protest, a video shared on social media showed a Palestinian flag being hung outside the school. That video, and those of the protest, attracted attention from far-right activists and provoked further threats to the school.

The Lion trust appealed to parents to be kind to staff and to “appropriately” challenge misinformation being spread in person or online.